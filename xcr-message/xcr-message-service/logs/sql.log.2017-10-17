2017-10-17 11:27:33,859 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 11:27:33,872 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2011e07f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c130646, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65010ce3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@27f53ee3]
2017-10-17 11:27:33,929 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-17 11:27:34,020 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-17 11:27:34,141 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-17 11:27:34,167 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-17 11:27:34,203 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Tue Oct 17 11:27:34 CST 2017]; root of context hierarchy
2017-10-17 11:27:34,332 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-17 11:27:34,588 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-17 11:27:34,808 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-17 11:27:34,828 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-17 11:27:34,836 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-17 11:27:34,836 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-17 11:27:35,043 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-17 11:27:35,043 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-17 11:27:35,068 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-17 11:27:35,069 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-17 11:27:35,071 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-17 11:27:35,089 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-17 11:27:35,089 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-10-17 11:27:35,089 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-17 11:27:35,089 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-17 11:27:35,089 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-17 11:27:35,089 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-17 11:27:35,091 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1022168}
2017-10-17 11:27:35,092 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1710222}
2017-10-17 11:27:35,092 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=2193964}
2017-10-17 11:27:35,092 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-17 11:27:35,093 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-17 11:27:35,093 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=2.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-17 11:27:35,093 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=2.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}]
2017-10-17 11:27:35,321 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-17 11:27:35,321 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-17 11:27:35,321 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-17 11:27:35,321 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-17 11:27:35,322 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-17 11:27:35,324 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-17 11:27:35,326 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-17 11:27:35,326 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-17 11:27:35,464 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-17 11:27:35,465 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-17 11:27:35,489 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-17 11:27:35,494 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-17 11:27:35,504 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-17 11:27:35,530 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-17 11:27:35,535 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Tue Oct 17 11:27:34 CST 2017]; root of context hierarchy
2017-10-17 11:27:35,538 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-17 11:27:35,538 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-17 11:27:35,538 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-17 11:27:35,538 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-17 11:27:35,539 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-17 11:27:35,541 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
