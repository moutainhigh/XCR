2017-10-12 10:29:48,739 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:29:48,787 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2011e07f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c130646, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65010ce3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@27f53ee3]
2017-10-12 10:29:48,878 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:29:49,084 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:29:49,246 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:29:49,271 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:29:49,317 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:29:49 CST 2017]; root of context hierarchy
2017-10-12 10:29:49,490 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:29:49,704 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:29:49,948 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:29:49,983 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:29:49,997 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:29:49,997 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:29:50,273 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:29:50,274 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:29:50,300 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:29:50,301 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:29:50,304 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:29:50,326 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-12 10:29:50,326 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-10-12 10:29:50,326 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 10:29:50,326 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:29:50,326 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:29:50,326 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:29:50,328 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1123370}
2017-10-12 10:29:50,328 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1070491}
2017-10-12 10:29:50,328 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1443045}
2017-10-12 10:29:50,329 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:29:50,330 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.4 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:29:50,330 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.4 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:29:50,330 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.4 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:29:50,586 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:29:50,586 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:29:50,587 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:29:50,587 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:29:50,588 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:29:50,591 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:29:50,595 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:29:50,595 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:29:50,800 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"haveShopCode":0,"pageNum":1,"pageSize":10,"total_fee":0}
2017-10-12 10:29:50,801 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"total_fee":0,"haveShopCode":0},skip=0,pageSize=10
2017-10-12 10:29:50,829 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb2.com:27019
2017-10-12 10:29:50,834 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_payment'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb2.com:27019
2017-10-12 10:29:50,915 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:29:50,917 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[]
2017-10-12 10:29:50,923 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:29:49 CST 2017]; root of context hierarchy
2017-10-12 10:29:50,925 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:29:50,925 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:29:50,926 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb2.com:27019 because the pool has been closed.
2017-10-12 10:29:50,926 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:29:50,926 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:29:50,929 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:30:51,068 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:30:51,079 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@599ab0d6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3acfdf8f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@255e4373, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4f9e462f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2011e07f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75a9c24b]
2017-10-12 10:30:51,133 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:30:51,224 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:30:51,358 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:30:51,385 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:30:51,420 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@3acc0a7c: startup date [Thu Oct 12 10:30:51 CST 2017]; root of context hierarchy
2017-10-12 10:30:51,564 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:30:51,792 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:30:52,004 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:30:52,026 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:30:52,037 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:30:52,037 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:30:52,263 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:30:52,263 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:30:52,288 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:30:52,289 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:30:52,290 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:30:52,311 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-10-12 10:30:52,311 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 10:30:52,311 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb1.com:27019
2017-10-12 10:30:52,311 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:30:52,311 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:30:52,311 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:30:52,313 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1072895}
2017-10-12 10:30:52,313 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1186464}
2017-10-12 10:30:52,313 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1186464}
2017-10-12 10:30:52,314 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:30:52,315 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:30:52,315 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:30:52,315 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 10:30:52,506 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:30:52,507 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:30:52,507 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:30:52,507 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:30:52,508 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:30:52,510 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:30:52,513 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:30:52,513 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:30:52,654 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"pageNum":1,"pageSize":10}
2017-10-12 10:30:52,655 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={},skip=0,pageSize=10
2017-10-12 10:30:52,718 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb3.com:27019
2017-10-12 10:30:52,723 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_payment'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb3.com:27019
2017-10-12 10:30:52,760 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:30:52,844 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":0,"total_fee":0},{"haveShopCode":0,"total_fee":0},{"haveShopCode":0,"total_fee":0}]
2017-10-12 10:30:52,844 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@3acc0a7c: startup date [Thu Oct 12 10:30:51 CST 2017]; root of context hierarchy
2017-10-12 10:30:52,844 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb3.com:27019 because the pool has been closed.
2017-10-12 10:30:52,844 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:30:52,844 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:30:52,844 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:30:52,844 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:30:52,847 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:35:11,270 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:35:11,282 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@255e4373, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f9e462f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75a9c24b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c130646, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@65010ce3]
2017-10-12 10:35:11,335 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:35:11,413 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:35:11,559 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:35:11,589 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:35:11,623 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@1fd9e040: startup date [Thu Oct 12 10:35:11 CST 2017]; root of context hierarchy
2017-10-12 10:35:11,769 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:35:11,998 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:35:12,228 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:35:12,252 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:35:12,264 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:35:12,264 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:35:12,521 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:35:12,521 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:35:12,545 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:35:12,546 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:35:12,548 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:35:12,569 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:35:12,569 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb1.com:27019
2017-10-12 10:35:12,569 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:35:12,569 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-12 10:35:12,569 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:35:12,569 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:35:12,571 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1068689}
2017-10-12 10:35:12,571 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1211100}
2017-10-12 10:35:12,571 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1218011}
2017-10-12 10:35:12,572 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:35:12,572 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:35:12,573 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:35:12,573 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 10:35:12,749 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:35:12,749 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:35:12,750 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:35:12,750 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:35:12,750 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:35:12,753 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:35:12,755 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:35:12,756 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:35:12,897 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"pageNum":1,"pageSize":10}
2017-10-12 10:35:12,898 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={},skip=0,pageSize=10
2017-10-12 10:35:12,926 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:35:12,930 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_payment'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:35:12,979 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:35:13,013 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":0,"total_fee":0},{"haveShopCode":0,"total_fee":0},{"haveShopCode":0,"total_fee":0}]
2017-10-12 10:35:13,018 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@1fd9e040: startup date [Thu Oct 12 10:35:11 CST 2017]; root of context hierarchy
2017-10-12 10:35:13,021 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:35:13,021 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:35:13,021 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:35:13,022 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:35:13,022 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:35:13,025 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:35:41,368 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:35:41,379 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3acfdf8f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@255e4373, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2011e07f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@75a9c24b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5c130646]
2017-10-12 10:35:41,432 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:35:41,523 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:35:41,640 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:35:41,666 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:35:41,694 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@29c4710c: startup date [Thu Oct 12 10:35:41 CST 2017]; root of context hierarchy
2017-10-12 10:35:41,822 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:35:42,038 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:35:42,261 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:35:42,280 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:35:42,289 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:35:42,289 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:35:42,501 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:35:42,501 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:35:42,525 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:35:42,526 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:35:42,528 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:35:42,547 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-10-12 10:35:42,547 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:35:42,547 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:35:42,547 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:35:42,547 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:35:42,547 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:35:42,549 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1096930}
2017-10-12 10:35:42,549 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1011904}
2017-10-12 10:35:42,549 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1024223}
2017-10-12 10:35:42,550 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:35:42,550 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:35:42,551 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:35:42,551 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:35:42,725 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:35:42,725 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:35:42,726 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:35:42,726 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:35:42,726 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:35:42,729 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:35:42,731 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:35:42,732 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:35:42,868 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"merchantId":"ttt","orderId":"xxx","pageNum":0,"pageSize":0,"totalAmount":20}
2017-10-12 10:35:42,869 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"totalAmount":20,"merchantId":"ttt","orderId":"xxx"},skip=0,pageSize=0
2017-10-12 10:35:42,890 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb2.com:27019
2017-10-12 10:35:42,895 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_payment'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb2.com:27019
2017-10-12 10:35:42,941 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:35:42,962 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果scanPaymentMessages=[{"merchantId":"ttt","orderId":"xxx","totalAmount":20}]
2017-10-12 10:35:42,965 INFO [test.service.TestScanPaymentMessageService] - ok:[{"merchantId":"ttt","orderId":"xxx","totalAmount":20}]
2017-10-12 10:35:42,968 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@29c4710c: startup date [Thu Oct 12 10:35:41 CST 2017]; root of context hierarchy
2017-10-12 10:35:42,970 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:35:42,971 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:35:42,971 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb2.com:27019 because the pool has been closed.
2017-10-12 10:35:42,971 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:35:42,971 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:35:42,974 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:39:06,060 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:39:06,071 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@255e4373, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4f9e462f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75a9c24b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c130646, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@65010ce3]
2017-10-12 10:39:06,130 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:39:06,221 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:39:06,343 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:39:06,366 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:39:06,396 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@1fd9e040: startup date [Thu Oct 12 10:39:06 CST 2017]; root of context hierarchy
2017-10-12 10:39:06,530 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:39:06,737 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:39:06,952 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:39:06,974 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:39:06,983 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:39:06,983 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:39:07,183 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:39:07,183 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:39:07,207 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:39:07,208 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:39:07,209 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:39:07,228 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-10-12 10:39:07,228 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 10:39:07,228 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:39:07,228 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:39:07,228 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb1.com:27019
2017-10-12 10:39:07,228 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:39:07,230 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1102640}
2017-10-12 10:39:07,230 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1047657}
2017-10-12 10:39:07,230 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=991474}
2017-10-12 10:39:07,231 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:39:07,231 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-10-12 10:39:07,232 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-10-12 10:39:07,232 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-10-12 10:39:07,418 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:39:07,419 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:39:07,419 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:39:07,419 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:39:07,420 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:39:07,422 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:39:07,424 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:39:07,424 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:39:07,560 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"pageNum":1,"pageSize":10}
2017-10-12 10:39:07,562 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={},skip=0,pageSize=10
2017-10-12 10:39:07,583 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb3.com:27019
2017-10-12 10:39:07,587 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_payment'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb3.com:27019
2017-10-12 10:39:07,646 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:39:07,654 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[]
2017-10-12 10:39:07,663 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@1fd9e040: startup date [Thu Oct 12 10:39:06 CST 2017]; root of context hierarchy
2017-10-12 10:39:07,667 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb3.com:27019 because the pool has been closed.
2017-10-12 10:39:07,667 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:39:07,669 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:39:07,670 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:39:07,670 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:39:07,676 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:40:08,159 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:40:08,170 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3acfdf8f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@255e4373, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2011e07f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@75a9c24b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5c130646]
2017-10-12 10:40:08,224 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:40:08,311 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:40:08,423 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:40:08,448 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:40:08,484 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@29c4710c: startup date [Thu Oct 12 10:40:08 CST 2017]; root of context hierarchy
2017-10-12 10:40:08,615 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:40:08,815 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:40:09,033 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:40:09,050 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:40:09,061 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:40:09,061 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:40:09,281 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:40:09,282 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:40:09,308 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:40:09,309 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:40:09,310 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:40:09,330 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:40:09,330 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-10-12 10:40:09,330 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:40:09,330 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:40:09,330 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:40:09,330 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:40:09,332 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1222818}
2017-10-12 10:40:09,332 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1033837}
2017-10-12 10:40:09,332 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1037743}
2017-10-12 10:40:09,333 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:40:09,334 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:40:09,334 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-10-12 10:40:09,334 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-10-12 10:40:09,526 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:40:09,526 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:40:09,527 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:40:09,527 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:40:09,527 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:40:09,530 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:40:09,532 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:40:09,532 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:40:09,668 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"pageNum":1,"pageSize":10}
2017-10-12 10:40:09,669 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={},skip=0,pageSize=10
2017-10-12 10:40:09,690 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb3.com:27019
2017-10-12 10:40:09,694 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb3.com:27019
2017-10-12 10:40:09,782 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:40:09,826 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A90004","openid":"asdasdasdasd111111","out_trade_no":"orderid123345","time_end":"20170927100110","total_fee":0,"trade_type":"asd"},{"haveShopCode":1,"mch_id":"A90004","openid":"asdasdasdasd111112","out_trade_no":"orderid123345","time_end":"20170927100110","total_fee":0,"trade_type":"asd"},{"haveShopCode":1,"mch_id":"102512398716","openid":"123123123","out_trade_no":"sdasdasdasdasdsa","time_end":"2091212121212","total_fee":1235,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"102512398716","openid":"123123123asdasdasdasd","out_trade_no":"sdasdasdasdasdsa","time_end":"2091212121212","total_fee":1235,"trade_type":"pay"},{"haveShopCode":0,"mch_id":"1292001801","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294271","time_end":"20170927135144","total_fee":1,"trade_type":"JSAPI"},{"haveShopCode":1,"mch_id":"1292001801","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294271","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"1292001801","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294272","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516  ","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294273","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294274","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294275","time_end":"20170927135144","total_fee":1,"trade_type":"pay"}]
2017-10-12 10:40:09,831 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@29c4710c: startup date [Thu Oct 12 10:40:08 CST 2017]; root of context hierarchy
2017-10-12 10:40:09,833 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb3.com:27019 because the pool has been closed.
2017-10-12 10:40:09,833 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:40:09,834 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:40:09,835 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:40:09,835 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:40:09,838 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:40:44,530 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:40:44,541 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 10:40:44,600 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:40:44,675 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:40:44,784 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:40:44,813 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:40:44,845 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:40:44 CST 2017]; root of context hierarchy
2017-10-12 10:40:44,992 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:40:45,210 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:40:45,425 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:40:45,445 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:40:45,453 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:40:45,453 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:40:45,665 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:40:45,665 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:40:45,688 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:40:45,689 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:40:45,691 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:40:45,711 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 10:40:45,711 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-12 10:40:45,711 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-10-12 10:40:45,711 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:40:45,711 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:40:45,711 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:40:45,713 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1052765}
2017-10-12 10:40:45,713 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1095429}
2017-10-12 10:40:45,713 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1144702}
2017-10-12 10:40:45,714 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:40:45,714 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:40:45,715 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:40:45,715 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:40:45,916 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:40:45,916 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:40:45,916 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:40:45,916 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:40:45,917 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:40:45,919 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:40:45,921 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:40:45,922 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:40:46,061 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 10:40:46,063 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 10:40:46,083 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:40:46,088 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:40:46,110 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:40:46,140 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294274","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294275","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294276","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294277","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294278","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294279","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416253509753812606","time_end":"20170929164857","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311413445900796600908","time_end":"20170929171622","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416255327379688218","time_end":"20170929171917","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429699839234922164","time_end":"20170929172006","total_fee":1,"trade_type":"pay.weixin.jspay"}]
2017-10-12 10:40:46,144 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:40:44 CST 2017]; root of context hierarchy
2017-10-12 10:40:46,147 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:40:46,147 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:40:46,147 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:40:46,148 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:40:46,148 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:40:46,151 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:41:47,281 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:41:47,295 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 10:41:47,359 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:41:47,458 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:41:47,576 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:41:47,598 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:41:47,623 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:41:47 CST 2017]; root of context hierarchy
2017-10-12 10:41:47,754 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:41:47,973 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:41:48,183 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:41:48,209 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:41:48,222 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:41:48,222 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:41:48,434 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:41:48,434 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:41:48,457 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:41:48,458 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:41:48,460 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:41:48,479 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:41:48,479 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 10:41:48,479 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 10:41:48,480 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:41:48,479 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:41:48,480 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:41:48,482 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1169038}
2017-10-12 10:41:48,482 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1138092}
2017-10-12 10:41:48,482 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1137791}
2017-10-12 10:41:48,482 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:41:48,483 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 10:41:48,483 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 10:41:48,484 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 10:41:48,664 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:41:48,664 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:41:48,664 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:41:48,664 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:41:48,665 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:41:48,667 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:41:48,670 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:41:48,670 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:41:48,805 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 10:41:48,807 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 10:41:48,828 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:41:48,833 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:41:48,845 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:41:48,871 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294274","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294275","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294276","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294277","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294278","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294279","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416253509753812606","time_end":"20170929164857","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311413445900796600908","time_end":"20170929171622","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416255327379688218","time_end":"20170929171917","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429699839234922164","time_end":"20170929172006","total_fee":1,"trade_type":"pay.weixin.jspay"}]
2017-10-12 10:41:48,877 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:41:47 CST 2017]; root of context hierarchy
2017-10-12 10:41:48,879 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:41:48,879 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:41:48,879 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:41:48,880 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:41:48,880 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:41:48,883 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:42:42,693 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:42:42,705 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2011e07f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c130646, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65010ce3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@27f53ee3]
2017-10-12 10:42:42,762 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:42:42,838 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:42:42,977 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:42:43,011 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:42:43,046 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:42:43 CST 2017]; root of context hierarchy
2017-10-12 10:42:43,167 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:42:43,385 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:42:43,602 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:42:43,620 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:42:43,627 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:42:43,628 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:42:43,833 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:42:43,833 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:42:43,857 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:42:43,858 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:42:43,860 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:42:43,880 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-12 10:42:43,880 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-10-12 10:42:43,880 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 10:42:43,880 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:42:43,880 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:42:43,880 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:42:43,882 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1054268}
2017-10-12 10:42:43,882 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1125774}
2017-10-12 10:42:43,882 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1056971}
2017-10-12 10:42:43,883 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:42:43,883 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:42:43,883 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:42:43,884 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:42:44,069 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:42:44,069 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:42:44,069 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:42:44,070 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:42:44,070 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:42:44,072 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:42:44,074 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:42:44,075 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:42:44,212 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 10:42:44,213 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 10:42:44,234 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb2.com:27019
2017-10-12 10:42:44,239 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb2.com:27019
2017-10-12 10:42:44,271 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:42:44,294 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-12 10:42:44,300 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:42:43 CST 2017]; root of context hierarchy
2017-10-12 10:42:44,302 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:42:44,302 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:42:44,303 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb2.com:27019 because the pool has been closed.
2017-10-12 10:42:44,303 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:42:44,303 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:42:44,306 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:43:31,171 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:43:31,183 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 10:43:31,238 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:43:31,322 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:43:31,446 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:43:31,476 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:43:31,510 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:43:31 CST 2017]; root of context hierarchy
2017-10-12 10:43:31,650 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:43:31,889 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:43:32,096 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:43:32,114 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:43:32,122 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:43:32,122 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:43:32,330 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:43:32,330 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:43:32,354 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:43:32,355 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:43:32,357 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:43:32,376 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 10:43:32,376 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:43:32,376 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:43:32,376 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:43:32,378 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1092424}
2017-10-12 10:43:32,378 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1172342}
2017-10-12 10:43:32,379 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:43:32,380 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:43:32,380 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:43:32,385 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 10:43:32,385 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:43:32,386 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1148607}
2017-10-12 10:43:32,387 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:43:32,559 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:43:32,559 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:43:32,559 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:43:32,559 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:43:32,560 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:43:32,562 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:43:32,564 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:43:32,565 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:43:32,701 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":2,"pageSize":10}
2017-10-12 10:43:32,703 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=10,pageSize=10
2017-10-12 10:43:32,723 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb3.com:27019
2017-10-12 10:43:32,728 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb3.com:27019
2017-10-12 10:43:32,805 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:43:32,831 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311413446402307046045","time_end":"20170929172443","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311413446348250066486","time_end":"20170929172352","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311413446293994182374","time_end":"20170929172257","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416255110682138908","time_end":"20170929172129","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429699839234922164","time_end":"20170929172006","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416255327379688218","time_end":"20170929171917","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311413445900796600908","time_end":"20170929171622","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs430SbAKsPVda70lA1R6q-U","out_trade_no":"10255224311416253509753812606","time_end":"20170929164857","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294274","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294275","time_end":"20170927135144","total_fee":1,"trade_type":"pay"}]
2017-10-12 10:43:32,837 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:43:31 CST 2017]; root of context hierarchy
2017-10-12 10:43:32,839 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb3.com:27019 because the pool has been closed.
2017-10-12 10:43:32,839 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:43:32,840 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:43:32,841 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:43:32,841 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:43:32,843 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:43:53,482 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:43:53,493 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5c130646, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@65010ce3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@27f53ee3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@55f3bd93, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@752329fa]
2017-10-12 10:43:53,549 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:43:53,628 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:43:53,748 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:43:53,778 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:43:53,804 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@482b32f1: startup date [Thu Oct 12 10:43:53 CST 2017]; root of context hierarchy
2017-10-12 10:43:53,944 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:43:54,180 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:43:54,416 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:43:54,436 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:43:54,445 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:43:54,445 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:43:54,660 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:43:54,660 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:43:54,684 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:43:54,685 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:43:54,686 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:43:54,706 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:43:54,706 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:43:54,707 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:43:54,706 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-10-12 10:43:54,707 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:43:54,707 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:43:54,708 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1064783}
2017-10-12 10:43:54,708 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1014609}
2017-10-12 10:43:54,708 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1065083}
2017-10-12 10:43:54,709 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:43:54,710 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:43:54,710 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:43:54,711 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:43:54,898 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:43:54,898 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:43:54,898 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:43:54,899 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:43:54,899 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:43:54,901 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:43:54,904 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:43:54,904 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:43:55,041 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":3,"pageSize":10}
2017-10-12 10:43:55,043 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=20,pageSize=10
2017-10-12 10:43:55,064 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:43:55,068 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:43:55,167 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:43:55,208 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294276","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294277","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294278","time_end":"20170927135144","total_fee":1,"trade_type":"pay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHsxW_hKO8qDy3whZh6R_0mWA","out_trade_no":"102513761628201709274228294279","time_end":"20170927135144","total_fee":1,"trade_type":"pay"}]
2017-10-12 10:43:55,213 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@482b32f1: startup date [Thu Oct 12 10:43:53 CST 2017]; root of context hierarchy
2017-10-12 10:43:55,215 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:43:55,215 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:43:55,215 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:43:55,216 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:43:55,216 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:43:55,219 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:44:13,225 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:44:13,237 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 10:44:13,295 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:44:13,372 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:44:13,501 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:44:13,524 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:44:13,554 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:44:13 CST 2017]; root of context hierarchy
2017-10-12 10:44:13,694 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:44:13,922 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:44:14,131 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:44:14,148 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:44:14,157 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:44:14,157 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:44:14,364 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:44:14,364 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:44:14,388 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:44:14,389 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:44:14,391 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:44:14,410 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb2.com:27019
2017-10-12 10:44:14,410 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb1.com:27019
2017-10-12 10:44:14,410 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:44:14,410 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:44:14,412 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1060577}
2017-10-12 10:44:14,412 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1055770}
2017-10-12 10:44:14,412 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:44:14,413 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:44:14,413 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:44:14,422 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:44:14,422 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:44:14,423 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1182558}
2017-10-12 10:44:14,423 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 10:44:14,590 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:44:14,590 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:44:14,591 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:44:14,591 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:44:14,591 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:44:14,594 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:44:14,596 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:44:14,597 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:44:14,742 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":4,"pageSize":10}
2017-10-12 10:44:14,744 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=30,pageSize=10
2017-10-12 10:44:14,766 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:44:14,770 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:44:14,826 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:44:14,828 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[]
2017-10-12 10:44:14,833 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 10:44:13 CST 2017]; root of context hierarchy
2017-10-12 10:44:14,835 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:44:14,836 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:44:14,836 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:44:14,836 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:44:14,836 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:44:14,839 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 10:44:22,567 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 10:44:22,578 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2011e07f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c130646, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65010ce3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@27f53ee3]
2017-10-12 10:44:22,631 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 10:44:22,723 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 10:44:22,843 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 10:44:22,869 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 10:44:22,903 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:44:22 CST 2017]; root of context hierarchy
2017-10-12 10:44:23,030 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 10:44:23,274 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 10:44:23,493 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 10:44:23,516 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 10:44:23,524 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 10:44:23,524 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 10:44:23,733 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 10:44:23,734 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 10:44:23,758 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 10:44:23,759 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 10:44:23,761 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:44:23,781 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-10-12 10:44:23,781 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 10:44:23,781 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-10-12 10:44:23,782 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 10:44:23,782 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 10:44:23,782 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 10:44:23,783 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1191871}
2017-10-12 10:44:23,783 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1215908}
2017-10-12 10:44:23,783 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=759529}
2017-10-12 10:44:23,784 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 10:44:23,785 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:44:23,785 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 10:44:23,785 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=0.8 ms, state=CONNECTED}]
2017-10-12 10:44:24,083 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 10:44:24,083 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 10:44:24,083 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 10:44:24,084 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 10:44:24,084 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 10:44:24,087 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 10:44:24,089 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 10:44:24,089 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 10:44:24,239 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 10:44:24,241 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 10:44:24,261 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb1.com:27019
2017-10-12 10:44:24,266 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb1.com:27019
2017-10-12 10:44:24,277 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 10:44:24,302 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-12 10:44:24,308 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 10:44:22 CST 2017]; root of context hierarchy
2017-10-12 10:44:24,310 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 10:44:24,310 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb1.com:27019 because the pool has been closed.
2017-10-12 10:44:24,310 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 10:44:24,311 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 10:44:24,311 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 10:44:24,315 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 13:38:44,378 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 13:38:44,394 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 13:38:44,451 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 13:38:44,541 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 13:38:44,676 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 13:38:44,700 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 13:38:44,737 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 13:38:44 CST 2017]; root of context hierarchy
2017-10-12 13:38:44,882 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 13:38:45,145 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 13:38:45,373 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 13:38:45,397 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 13:38:45,405 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 13:38:45,405 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 13:38:45,610 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 13:38:45,611 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 13:38:45,636 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 13:38:45,637 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 13:38:45,639 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 13:38:45,659 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-10-12 13:38:45,659 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-10-12 13:38:45,659 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-10-12 13:38:45,659 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 13:38:45,659 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 13:38:45,659 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 13:38:45,661 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1126976}
2017-10-12 13:38:45,661 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1131782}
2017-10-12 13:38:45,661 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1190670}
2017-10-12 13:38:45,662 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 13:38:45,663 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 13:38:45,663 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 13:38:45,663 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-10-12 13:38:45,853 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 13:38:45,853 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 13:38:45,853 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 13:38:45,853 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 13:38:45,854 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 13:38:45,856 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 13:38:45,858 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 13:38:45,858 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 13:38:45,994 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 13:38:45,995 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 13:38:46,016 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb2.com:27019
2017-10-12 13:38:46,021 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb2.com:27019
2017-10-12 13:38:46,040 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 13:38:46,063 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-12 13:38:46,068 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 13:38:44 CST 2017]; root of context hierarchy
2017-10-12 13:38:46,070 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 13:38:46,071 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 13:38:46,071 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb2.com:27019 because the pool has been closed.
2017-10-12 13:38:46,071 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 13:38:46,071 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 13:38:46,074 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 15:52:44,448 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 15:52:44,461 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2011e07f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@75a9c24b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c130646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@65010ce3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27f53ee3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55f3bd93]
2017-10-12 15:52:44,518 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 15:52:44,606 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 15:52:44,754 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 15:52:44,789 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 15:52:44,827 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 15:52:44 CST 2017]; root of context hierarchy
2017-10-12 15:52:44,962 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 15:52:45,208 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 15:52:45,443 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 15:52:45,468 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 15:52:45,477 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 15:52:45,477 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 15:52:45,689 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 15:52:45,689 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 15:52:45,713 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 15:52:45,714 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 15:52:45,716 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 15:52:45,736 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-10-12 15:52:45,736 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb1.com:27019
2017-10-12 15:52:45,736 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 15:52:45,736 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 15:52:45,736 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 15:52:45,736 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 15:52:45,738 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1121568}
2017-10-12 15:52:45,738 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1136289}
2017-10-12 15:52:45,738 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1124572}
2017-10-12 15:52:45,739 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 15:52:45,740 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 15:52:45,740 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 15:52:45,741 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 15:52:45,922 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 15:52:45,922 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 15:52:45,922 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 15:52:45,923 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 15:52:45,923 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 15:52:45,925 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 15:52:45,928 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 15:52:45,928 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 15:52:46,065 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 15:52:46,066 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 15:52:46,113 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb2.com:27019
2017-10-12 15:52:46,118 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb2.com:27019
2017-10-12 15:52:46,140 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 15:52:46,166 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-12 15:52:46,171 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@529b2735: startup date [Thu Oct 12 15:52:44 CST 2017]; root of context hierarchy
2017-10-12 15:52:46,173 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 15:52:46,174 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 15:52:46,174 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb2.com:27019 because the pool has been closed.
2017-10-12 15:52:46,174 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 15:52:46,175 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 15:52:46,177 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-10-12 16:03:37,527 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-12 16:03:37,539 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4f9e462f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2011e07f, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@75a9c24b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c130646, org.springframework.test.context.transaction.TransactionalTestExecutionListener@65010ce3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@27f53ee3]
2017-10-12 16:03:37,595 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-10-12 16:03:37,667 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext.xml]
2017-10-12 16:03:37,797 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20170930.070039-37.jar!/spring/applicationContext.xml]
2017-10-12 16:03:37,819 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-message/xcr-message-service/target/classes/spring/applicationContext-redis.xml]
2017-10-12 16:03:37,845 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 16:03:37 CST 2017]; root of context hierarchy
2017-10-12 16:03:37,978 WARN [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yatang.xc.xcr.biz.mission.dao]' package. Please check your configuration.
2017-10-12 16:03:38,220 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-10-12 16:03:38,431 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-10-12 16:03:38,453 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-10-12 16:03:38,461 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-10-12 16:03:38,462 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-10-12 16:03:38,670 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-10-12 16:03:38,670 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-10-12 16:03:38,696 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-10-12 16:03:38,697 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-10-12 16:03:38,699 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-10-12 16:03:38,718 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-10-12 16:03:38,718 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-10-12 16:03:38,718 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-10-12 16:03:38,718 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-10-12 16:03:38,718 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-10-12 16:03:38,718 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-10-12 16:03:38,720 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1107747}
2017-10-12 16:03:38,720 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1131482}
2017-10-12 16:03:38,720 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1126374}
2017-10-12 16:03:38,721 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-10-12 16:03:38,721 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 16:03:38,721 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 16:03:38,722 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-10-12 16:03:38,905 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-10-12 16:03:38,905 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-10-12 16:03:38,906 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-10-12 16:03:38,906 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-10-12 16:03:38,906 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-10-12 16:03:38,909 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-10-12 16:03:38,911 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-10-12 16:03:38,912 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Property 'mapperLocations' was not specified or no matching resources found
2017-10-12 16:03:39,050 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件params={"mch_id":"A001516","pageNum":1,"pageSize":10}
2017-10-12 16:03:39,051 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询条件queryObj={"mch_id":"A001516"},skip=0,pageSize=10
2017-10-12 16:03:39,072 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:4}] to sit.mongodb3.com:27019
2017-10-12 16:03:39,076 DEBUG [org.mongodb.driver.protocol.command] - Sending command {find : BsonString{value='scan_turnover'}} to database xcr on connection [connectionId{localValue:4}] to server sit.mongodb3.com:27019
2017-10-12 16:03:39,096 DEBUG [org.mongodb.driver.protocol.command] - Command execution completed
2017-10-12 16:03:39,121 INFO [com.yatang.xc.xcr.biz.message.service.impl.ScanPaymentMessageServiceImpl] - 查询结果swiftPassMessages=[{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311416257088930265868","time_end":"20170929175429","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"oMJGHs1DUzs5aklMB0RIbrAJS4tk","out_trade_no":"10255224311429701804954529238","time_end":"20170929175211","total_fee":1,"trade_type":"pay.weixin.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416257194424720267","time_end":"20170929175040","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447834384604517","time_end":"20170929174849","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256943621556339","time_end":"20170929174625","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447379016458558","time_end":"20170929174111","total_fee":2,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311416256609997037818","time_end":"20170929174042","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413447134558867412","time_end":"20170929174000","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311429700730584885186","time_end":"20170929173437","total_fee":1,"trade_type":"pay.alipay.jspay"},{"haveShopCode":1,"mch_id":"A001516","openid":"2088312325207146","out_trade_no":"10255224311413446838293783912","time_end":"20170929173302","total_fee":1,"trade_type":"pay.alipay.jspay"}]
2017-10-12 16:03:39,127 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@19119a16: startup date [Thu Oct 12 16:03:37 CST 2017]; root of context hierarchy
2017-10-12 16:03:39,129 INFO [org.mongodb.driver.connection] - Closed connection [connectionId{localValue:4}] to sit.mongodb3.com:27019 because the pool has been closed.
2017-10-12 16:03:39,129 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:4}
2017-10-12 16:03:39,130 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-10-12 16:03:39,130 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-10-12 16:03:39,130 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-10-12 16:03:39,133 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
