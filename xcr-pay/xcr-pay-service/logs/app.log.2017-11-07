2017-11-07 20:39:31,426 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:39:31,438 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5d1ae567, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10cafcf2, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ea47c7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@60e86e8a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3bb157ba, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77f692f3]
2017-11-07 20:39:31,498 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:39:31,619 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:39:31,780 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:39:31,807 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:39:31,842 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@4276f4a9: startup date [Tue Nov 07 20:39:31 CST 2017]; root of context hierarchy
2017-11-07 20:39:32,010 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:39:32,010 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:39:32,248 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:39:32,485 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:39:32,505 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:39:32,657 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:39:32,657 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:39:32,658 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:39:32,658 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:39:32,658 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:39:32,661 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:39:32,663 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:39:32,718 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:39:32,760 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:39:32,760 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:39:33,008 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:39:33,008 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:39:33,037 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:39:33,037 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:39:33,039 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:39:33,067 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-11-07 20:39:33,067 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-11-07 20:39:33,067 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:39:33,067 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:39:33,069 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1651609}
2017-11-07 20:39:33,069 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1654312}
2017-11-07 20:39:33,070 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:39:33,071 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:39:33,071 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:39:33,142 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 20:39:33,142 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:39:33,144 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1785011}
2017-11-07 20:39:33,144 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.7 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}]
2017-11-07 20:39:33,213 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:39:33,217 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c3b2e73] was not registered for synchronization because synchronization is not active
2017-11-07 20:39:33,228 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4822220b] will not be managed by Spring
2017-11-07 20:39:33,232 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==>  Preparing: insert ignore into XCR_DEPOSIT_PAY_RECORD (MCH_ID,SHOP_NO,PHONE,OUT_TRADE_NO,CONTRACT_NO,BODY,TOTAL_FEE,MCH_CREATE_IP,NOTIFY_URL,TOKEN_ID,STATE,CREATE_TIME,UPDATE_TIME) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2017-11-07 20:39:33,267 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==> Parameters: 1231231231_商户号(String), 12312312_小超编号(String), 138802564646(String), asdaw123111510058373209(String), asdaw12311(String), 加盟定金(String), 12345(Integer), 192.132.2.2(String), www.test.com(String), asdasdasd1231231(String), 1(Integer), 2017-11-07 20:39:33.209(Timestamp), 2017-11-07 20:39:33.209(Timestamp)
2017-11-07 20:39:33,273 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - <==    Updates: 1
2017-11-07 20:39:33,279 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:39:33,280 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c3b2e73]
2017-11-07 20:39:33,282 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@4276f4a9: startup date [Tue Nov 07 20:39:31 CST 2017]; root of context hierarchy
2017-11-07 20:39:33,284 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:39:33,285 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:39:33,285 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:39:33,287 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:39:33,288 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:42:24,807 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:42:24,819 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bb157ba, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77f692f3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6354fe9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6117e6b6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@682be886]
2017-11-07 20:42:24,876 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:42:24,963 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:42:25,089 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:42:25,117 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:42:25,153 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:42:25 CST 2017]; root of context hierarchy
2017-11-07 20:42:25,281 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:42:25,281 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:42:25,523 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:42:25,746 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:42:25,763 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:42:25,854 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:42:25,855 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:42:25,855 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:42:25,855 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:42:25,856 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:42:25,858 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:42:25,860 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:42:25,912 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:42:25,948 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:42:25,948 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:42:26,169 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:42:26,169 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:42:26,193 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:42:26,194 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:42:26,196 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:42:26,215 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 20:42:26,215 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-11-07 20:42:26,215 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-11-07 20:42:26,215 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:42:26,215 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:42:26,215 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:42:26,217 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1176587}
2017-11-07 20:42:26,217 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1188305}
2017-11-07 20:42:26,217 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1198220}
2017-11-07 20:42:26,218 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:42:26,219 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:42:26,219 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:42:26,219 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-11-07 20:42:26,393 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:42:25 CST 2017]; root of context hierarchy
2017-11-07 20:42:26,395 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:42:26,396 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:42:26,396 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:42:26,399 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:43:15,452 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:43:15,464 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77f692f3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6354fe9c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6117e6b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@682be886, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1aaeead8]
2017-11-07 20:43:15,521 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:43:15,607 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:43:15,724 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:43:15,757 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:43:15,789 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@250f0f9f: startup date [Tue Nov 07 20:43:15 CST 2017]; root of context hierarchy
2017-11-07 20:43:15,919 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:43:15,919 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:43:16,154 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:43:16,387 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:43:16,405 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:43:16,496 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:43:16,496 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:43:16,497 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:43:16,497 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:43:16,497 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:43:16,500 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:43:16,502 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:43:16,554 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:43:16,590 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:43:16,590 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:43:16,816 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:43:16,816 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:43:16,842 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:43:16,843 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:43:16,844 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:43:16,864 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-11-07 20:43:16,864 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 20:43:16,864 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:43:16,864 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:43:16,865 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-11-07 20:43:16,865 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:43:16,867 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1315398}
2017-11-07 20:43:16,867 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1303380}
2017-11-07 20:43:16,867 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1772692}
2017-11-07 20:43:16,867 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:43:16,868 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:43:16,868 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:43:16,868 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}]
2017-11-07 20:43:17,004 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:43:17,008 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c53da5b] was not registered for synchronization because synchronization is not active
2017-11-07 20:43:17,015 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4e7e2501] will not be managed by Spring
2017-11-07 20:43:17,019 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==>  Preparing: update XCR_DEPOSIT_PAY_RECORD set STATE = ?,UPDATE_TIME = NOW() where outTradeNo = ? AND MCH_ID = ? 
2017-11-07 20:43:17,048 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==> Parameters: 3(Integer), asdaw123111510058373209(String), 1231231231_商户号(String)
2017-11-07 20:43:17,062 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:43:17,063 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c53da5b]
2017-11-07 20:43:17,069 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2017-11-07 20:43:17,095 INFO [org.springframework.jdbc.support.SQLErrorCodesFactory] - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2017-11-07 20:43:17,106 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@250f0f9f: startup date [Tue Nov 07 20:43:15 CST 2017]; root of context hierarchy
2017-11-07 20:43:17,109 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:43:17,109 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:43:17,109 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:43:17,111 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:43:17,112 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:44:04,869 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:44:04,882 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bb157ba, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77f692f3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6354fe9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6117e6b6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@682be886]
2017-11-07 20:44:04,941 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:44:05,029 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:44:05,145 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:44:05,176 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:44:05,211 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:44:05 CST 2017]; root of context hierarchy
2017-11-07 20:44:05,351 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:44:05,351 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:44:05,736 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:44:05,956 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:44:05,976 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:44:06,075 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:44:06,075 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:44:06,076 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:44:06,076 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:44:06,077 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:44:06,081 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:44:06,084 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:44:06,140 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:44:06,179 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:44:06,179 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:44:06,401 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:44:06,401 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:44:06,424 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:44:06,425 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:44:06,427 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:44:06,447 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 20:44:06,447 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 20:44:06,447 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-11-07 20:44:06,448 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:44:06,448 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:44:06,448 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:44:06,450 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1086750}
2017-11-07 20:44:06,450 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1160362}
2017-11-07 20:44:06,450 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1197318}
2017-11-07 20:44:06,450 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:44:06,451 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:44:06,451 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:44:06,452 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:44:06,589 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:44:06,593 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304473a2] was not registered for synchronization because synchronization is not active
2017-11-07 20:44:06,601 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@784b3598] will not be managed by Spring
2017-11-07 20:44:06,604 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==>  Preparing: update XCR_DEPOSIT_PAY_RECORD set STATE = ?,UPDATE_TIME = NOW() where OUT_TRADE_NO = ? AND MCH_ID = ? 
2017-11-07 20:44:06,633 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==> Parameters: 3(Integer), asdaw123111510058373209(String), 1231231231_商户号(String)
2017-11-07 20:44:06,646 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - <==    Updates: 1
2017-11-07 20:44:06,646 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:44:06,646 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304473a2]
2017-11-07 20:44:06,649 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:44:05 CST 2017]; root of context hierarchy
2017-11-07 20:44:06,651 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:44:06,652 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:44:06,652 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:44:06,653 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:44:06,654 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:49:23,643 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:49:23,654 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bb157ba, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77f692f3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6354fe9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6117e6b6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@682be886]
2017-11-07 20:49:23,713 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:49:23,797 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:49:23,910 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:49:23,934 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:49:23,967 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:49:23 CST 2017]; root of context hierarchy
2017-11-07 20:49:24,105 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:49:24,106 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:49:24,429 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:49:24,642 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:49:24,662 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:49:24,761 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:49:24,761 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:49:24,762 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:49:24,762 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:49:24,763 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:49:24,766 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:49:24,768 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:49:24,817 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:49:24,864 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:49:24,864 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:49:25,102 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:49:25,102 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:49:25,128 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:49:25,129 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:49:25,131 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:49:25,150 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-11-07 20:49:25,150 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:49:25,151 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-11-07 20:49:25,151 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:49:25,151 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 20:49:25,151 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:49:25,152 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=722297}
2017-11-07 20:49:25,152 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1005026}
2017-11-07 20:49:25,153 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1244490}
2017-11-07 20:49:25,153 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:49:25,153 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=0.7 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:49:25,154 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=0.7 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-11-07 20:49:25,154 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=0.7 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}]
2017-11-07 20:49:25,308 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:49:25,312 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37007ea8] was not registered for synchronization because synchronization is not active
2017-11-07 20:49:25,321 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@402c5b10] will not be managed by Spring
2017-11-07 20:49:25,326 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==>  Preparing: insert ignore into XCR_DEPOSIT_PAY_RECORD (MCH_ID,SHOP_NO,PHONE,OUT_TRADE_NO,CONTRACT_NO,BODY,TOTAL_FEE,MCH_CREATE_IP,NOTIFY_URL,TOKEN_ID,STATE,CREATE_TIME,UPDATE_TIME) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2017-11-07 20:49:25,361 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==> Parameters: 1231231231_商户号(String), 12312312_小超编号(String), 138802564646(String), asdaw123111510058965302(String), asdaw12311(String), 加盟定金(String), 12345(Integer), 192.132.2.2(String), www.test.com(String), asdasdasd1231231(String), 1(Integer), 2017-11-07 20:49:25.302(Timestamp), 2017-11-07 20:49:25.302(Timestamp)
2017-11-07 20:49:25,367 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - <==    Updates: 1
2017-11-07 20:49:25,375 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:49:25,375 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37007ea8]
2017-11-07 20:49:25,378 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:49:23 CST 2017]; root of context hierarchy
2017-11-07 20:49:25,381 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:49:25,382 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:49:25,382 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:49:25,383 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:49:25,384 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:49:31,973 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:49:31,989 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bb157ba, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77f692f3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6354fe9c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6117e6b6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@682be886]
2017-11-07 20:49:32,058 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:49:32,155 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:49:32,284 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:49:32,309 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:49:32,342 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:49:32 CST 2017]; root of context hierarchy
2017-11-07 20:49:32,475 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:49:32,475 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:49:32,728 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:49:32,946 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:49:32,970 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:49:33,070 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:49:33,070 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:49:33,071 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:49:33,071 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:49:33,072 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:49:33,074 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:49:33,076 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:49:33,129 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:49:33,164 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:49:33,164 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:49:33,383 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:49:33,383 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:49:33,408 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:49:33,409 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:49:33,411 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:49:33,430 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-11-07 20:49:33,430 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-11-07 20:49:33,430 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 20:49:33,430 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:49:33,430 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:49:33,430 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:49:33,432 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1076235}
2017-11-07 20:49:33,432 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1127613}
2017-11-07 20:49:33,432 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1087652}
2017-11-07 20:49:33,433 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:49:33,433 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:49:33,434 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:49:33,434 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:49:33,581 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:49:33,585 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fd7616] was not registered for synchronization because synchronization is not active
2017-11-07 20:49:33,595 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@2a4f9402] will not be managed by Spring
2017-11-07 20:49:33,600 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==>  Preparing: update XCR_DEPOSIT_PAY_RECORD set STATE = ? and UPDATE_TIME = NOW() where OUT_TRADE_NO = ? AND MCH_ID = ? 
2017-11-07 20:49:33,627 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - ==> Parameters: 3(Integer), asdaw123111510058373209(String), 1231231231_商户号(String)
2017-11-07 20:49:33,633 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.updateState] - <==    Updates: 1
2017-11-07 20:49:33,633 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:49:33,633 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74fd7616]
2017-11-07 20:49:33,636 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5ef4f91d: startup date [Tue Nov 07 20:49:32 CST 2017]; root of context hierarchy
2017-11-07 20:49:33,638 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:49:33,639 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:49:33,639 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:49:33,640 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:49:33,641 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:56:25,414 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:56:25,426 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77f692f3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6354fe9c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6117e6b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@682be886, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1aaeead8]
2017-11-07 20:56:25,479 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:56:25,562 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:56:25,678 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:56:25,705 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:56:25,741 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@250f0f9f: startup date [Tue Nov 07 20:56:25 CST 2017]; root of context hierarchy
2017-11-07 20:56:25,868 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:56:25,869 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:56:26,144 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:56:26,363 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:56:26,384 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:56:26,491 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:56:26,491 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:56:26,492 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:56:26,492 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:56:26,493 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:56:26,496 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:56:26,500 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:56:26,562 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:56:26,609 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:56:26,610 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:56:26,831 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:56:26,831 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:56:26,856 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:56:26,857 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:56:26,859 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:56:26,878 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 20:56:26,878 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:56:26,879 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb3.com:27019
2017-11-07 20:56:26,879 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb1.com:27019
2017-11-07 20:56:26,879 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:56:26,879 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:56:26,880 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1374587}
2017-11-07 20:56:26,880 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1084047}
2017-11-07 20:56:26,881 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:56:26,881 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1795827}
2017-11-07 20:56:26,881 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:56:26,882 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:56:26,882 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.4 ms, state=CONNECTED}]
2017-11-07 20:56:27,017 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:56:27,021 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1306d9e4] was not registered for synchronization because synchronization is not active
2017-11-07 20:56:27,029 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@6c63e07c] will not be managed by Spring
2017-11-07 20:56:27,033 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==>  Preparing: insert ignore into XCR_DEPOSIT_PAY_RECORD (MCH_ID,SHOP_NO,PHONE,OUT_TRADE_NO,CONTRACT_NO,BODY,TOTAL_FEE,MCH_CREATE_IP,NOTIFY_URL,TOKEN_ID,STATE,CREATE_TIME,UPDATE_TIME) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2017-11-07 20:56:27,063 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==> Parameters: 1231231231_商户号(String), 12312312_小超编号(String), 138802564646(String), asdaw123111510059387013(String), asdaw12311(String), 加盟定金(String), 12345(Integer), 192.132.2.2(String), www.test.com(String), asdasdasd1231231(String), 1(Integer), 2017-11-07 20:56:27.013(Timestamp), 2017-11-07 20:56:27.013(Timestamp)
2017-11-07 20:56:27,072 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - <==    Updates: 1
2017-11-07 20:56:27,078 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:56:27,079 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1306d9e4]
2017-11-07 20:56:27,081 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@250f0f9f: startup date [Tue Nov 07 20:56:25 CST 2017]; root of context hierarchy
2017-11-07 20:56:27,084 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:56:27,084 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:56:27,084 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:56:27,086 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:56:27,087 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 20:57:16,652 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 20:57:16,664 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6354fe9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6117e6b6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@682be886, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1aaeead8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@51bc1897, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f28b6d]
2017-11-07 20:57:16,719 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 20:57:16,814 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 20:57:16,928 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 20:57:16,954 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 20:57:16,983 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5081a2e1: startup date [Tue Nov 07 20:57:16 CST 2017]; root of context hierarchy
2017-11-07 20:57:17,114 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 20:57:17,115 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 20:57:17,462 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 20:57:17,696 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 20:57:17,713 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 20:57:17,805 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 20:57:17,805 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 20:57:17,805 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 20:57:17,805 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 20:57:17,806 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 20:57:17,808 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 20:57:17,811 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 20:57:17,865 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 20:57:17,899 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 20:57:17,899 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 20:57:18,118 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 20:57:18,118 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 20:57:18,143 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 20:57:18,144 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 20:57:18,145 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:57:18,166 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 20:57:18,166 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-11-07 20:57:18,166 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 20:57:18,166 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 20:57:18,166 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 20:57:18,166 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 20:57:18,168 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1130016}
2017-11-07 20:57:18,168 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1138730}
2017-11-07 20:57:18,168 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1138128}
2017-11-07 20:57:18,169 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 20:57:18,169 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:57:18,170 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 20:57:18,170 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 20:57:18,321 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 20:57:18,325 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444009a4] was not registered for synchronization because synchronization is not active
2017-11-07 20:57:18,337 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@1bdf2b7c] will not be managed by Spring
2017-11-07 20:57:18,344 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==>  Preparing: insert ignore into XCR_DEPOSIT_PAY_RECORD (MCH_ID,SHOP_NO,PHONE,OUT_TRADE_NO,CONTRACT_NO,BODY,TOTAL_FEE,MCH_CREATE_IP,NOTIFY_URL,TOKEN_ID,STATE,CREATE_TIME,UPDATE_TIME) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
2017-11-07 20:57:18,384 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - ==> Parameters: 1231231231_商户号(String), 12312312_小超编号(String), 138802564646(String), asdaw123111510059387013(String), asdaw12311(String), 加盟定金(String), 12345(Integer), 192.132.2.2(String), www.test.com(String), asdasdasd1231231(String), 1(Integer), 2017-11-07 20:57:18.316(Timestamp), 2017-11-07 20:57:18.316(Timestamp)
2017-11-07 20:57:18,391 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.insert] - <==    Updates: 0
2017-11-07 20:57:18,397 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 20:57:18,397 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444009a4]
2017-11-07 20:57:18,400 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5081a2e1: startup date [Tue Nov 07 20:57:16 CST 2017]; root of context hierarchy
2017-11-07 20:57:18,404 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 20:57:18,404 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 20:57:18,404 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 20:57:18,406 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 20:57:18,407 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 21:01:23,846 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 21:01:23,859 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5d29cd0c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6354fe9c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6117e6b6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@682be886, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aaeead8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@51bc1897]
2017-11-07 21:01:23,917 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 21:01:24,002 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 21:01:24,123 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 21:01:24,152 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 21:01:24,181 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@7fcaa2ba: startup date [Tue Nov 07 21:01:24 CST 2017]; root of context hierarchy
2017-11-07 21:01:24,320 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 21:01:24,320 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 21:01:24,555 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 21:01:24,803 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 21:01:24,821 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 21:01:24,923 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 21:01:24,923 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 21:01:24,924 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 21:01:24,924 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 21:01:24,924 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 21:01:24,927 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 21:01:24,929 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 21:01:24,981 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 21:01:25,018 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 21:01:25,019 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 21:01:25,236 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 21:01:25,236 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 21:01:25,261 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 21:01:25,262 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 21:01:25,264 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 21:01:25,283 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-11-07 21:01:25,283 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 21:01:25,284 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 21:01:25,284 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 21:01:25,284 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 21:01:25,284 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 21:01:25,285 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=959357}
2017-11-07 21:01:25,285 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1155255}
2017-11-07 21:01:25,285 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1758270}
2017-11-07 21:01:25,286 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 21:01:25,287 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-11-07 21:01:25,287 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-11-07 21:01:25,287 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.8 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.0 ms, state=CONNECTED}]
2017-11-07 21:01:25,439 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 21:01:25,443 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de97b17] was not registered for synchronization because synchronization is not active
2017-11-07 21:01:25,452 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@3f41246d] will not be managed by Spring
2017-11-07 21:01:25,456 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==>  Preparing: SELECT STATE FROM XCR_DEPOSIT_PAY_RECORD WHERE outTradeNo = ? 
2017-11-07 21:01:25,480 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==> Parameters: asdaw123111510058373209(String)
2017-11-07 21:01:25,491 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 21:01:25,492 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de97b17]
2017-11-07 21:01:25,499 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2017-11-07 21:01:25,529 INFO [org.springframework.jdbc.support.SQLErrorCodesFactory] - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2017-11-07 21:01:25,539 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@7fcaa2ba: startup date [Tue Nov 07 21:01:24 CST 2017]; root of context hierarchy
2017-11-07 21:01:25,541 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 21:01:25,542 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 21:01:25,542 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 21:01:25,543 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 21:01:25,543 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 21:01:49,403 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 21:01:49,416 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6354fe9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6117e6b6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@682be886, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1aaeead8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@51bc1897, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@13f28b6d]
2017-11-07 21:01:49,475 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 21:01:49,572 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 21:01:49,690 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 21:01:49,715 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 21:01:49,746 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@5081a2e1: startup date [Tue Nov 07 21:01:49 CST 2017]; root of context hierarchy
2017-11-07 21:01:49,881 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 21:01:49,881 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 21:01:50,103 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 21:01:50,343 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 21:01:50,364 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 21:01:50,463 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 21:01:50,463 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 21:01:50,464 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 21:01:50,464 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 21:01:50,465 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 21:01:50,469 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 21:01:50,472 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 21:01:50,538 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 21:01:50,579 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 21:01:50,579 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 21:01:50,824 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 21:01:50,824 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 21:01:50,848 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 21:01:50,849 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 21:01:50,851 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 21:01:50,871 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb2.com:27019
2017-11-07 21:01:50,871 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb3.com:27019
2017-11-07 21:01:50,871 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 21:01:50,871 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 21:01:50,871 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 21:01:50,871 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 21:01:50,873 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1133021}
2017-11-07 21:01:50,873 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1111988}
2017-11-07 21:01:50,873 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1105078}
2017-11-07 21:01:50,874 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 21:01:50,875 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 21:01:50,875 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 21:01:50,875 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.1 ms, state=CONNECTED}]
2017-11-07 21:01:51,009 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 21:01:51,012 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a9c8a8] was not registered for synchronization because synchronization is not active
2017-11-07 21:01:51,020 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@471d463d] will not be managed by Spring
2017-11-07 21:01:51,024 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==>  Preparing: SELECT STATE FROM XCR_DEPOSIT_PAY_RECORD WHERE OUT_TRADE_NO = ? 
2017-11-07 21:01:51,052 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==> Parameters: asdaw123111510058373209(String)
2017-11-07 21:01:51,076 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - <==      Total: 1
2017-11-07 21:01:51,076 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 21:01:51,076 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48a9c8a8]
2017-11-07 21:01:51,079 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@5081a2e1: startup date [Tue Nov 07 21:01:49 CST 2017]; root of context hierarchy
2017-11-07 21:01:51,082 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 21:01:51,082 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 21:01:51,082 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 21:01:51,084 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 21:01:51,085 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2017-11-07 21:02:02,149 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-07 21:02:02,161 INFO [org.springframework.test.context.support.DefaultTestContextBootstrapper] - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6117e6b6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@682be886, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1aaeead8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@51bc1897, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13f28b6d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@189fab56]
2017-11-07 21:02:02,218 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from class path resource [test/applicationContext-test.xml]
2017-11-07 21:02:02,305 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext.xml]
2017-11-07 21:02:02,415 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [jar:file:/D:/maven/self_repository/com/busi/mongo/busi-mongo/dev-SNAPSHOT/busi-mongo-dev-20171101.025036-40.jar!/spring/applicationContext.xml]
2017-11-07 21:02:02,447 INFO [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] - Loading XML bean definitions from URL [file:/D:/workspace/backend/trunk/xcr-pay/xcr-pay-service/target/classes/spring/applicationContext-redis.xml]
2017-11-07 21:02:02,479 INFO [org.springframework.context.support.GenericApplicationContext] - Refreshing org.springframework.context.support.GenericApplicationContext@6eec8b11: startup date [Tue Nov 07 21:02:02 CST 2017]; root of context hierarchy
2017-11-07 21:02:02,620 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Identified candidate component class: file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\dao\DepositPayRecordDao.class]
2017-11-07 21:02:02,620 DEBUG [org.mybatis.spring.mapper.ClassPathMapperScanner] - Creating MapperFactoryBean with name 'depositPayRecordDao' and 'com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao' mapperInterface
2017-11-07 21:02:02,849 ERROR [com.alibaba.druid.filter.FilterManager] - load filter error, filter not found : logback
2017-11-07 21:02:03,077 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2017-11-07 21:02:03,096 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2017-11-07 21:02:03,187 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VFS
2017-11-07 21:02:03,187 DEBUG [org.apache.ibatis.io.JBoss6VFS] - JBoss 6 VFS API is not available in this environment.
2017-11-07 21:02:03,188 DEBUG [org.apache.ibatis.io.VFS] - Class not found: org.jboss.vfs.VirtualFile
2017-11-07 21:02:03,188 DEBUG [org.apache.ibatis.io.VFS] - VFS implementation org.apache.ibatis.io.JBoss6VFS is not valid in this environment.
2017-11-07 21:02:03,189 DEBUG [org.apache.ibatis.io.VFS] - Using VFS adapter org.apache.ibatis.io.DefaultVFS
2017-11-07 21:02:03,191 DEBUG [org.apache.ibatis.logging.LogFactory] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
2017-11-07 21:02:03,193 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed configuration file: 'class path resource [mybatis/sqlMapConfig.xml]'
2017-11-07 21:02:03,261 DEBUG [org.mybatis.spring.SqlSessionFactoryBean] - Parsed mapper file: 'file [D:\workspace\backend\trunk\xcr-pay\xcr-pay-service\target\classes\com\yatang\xc\xcr\biz\pay\domain\DepositPayRecord_Mapper.xml]'
2017-11-07 21:02:03,308 INFO [com.busi.mongo.MongoTools] - MongoDB Client initialize...
2017-11-07 21:02:03,308 INFO [com.busi.mongo.MongoTools] - server address : sit.mongodb1.com:27019;sit.mongodb2.com:27019;sit.mongodb3.com:27019
2017-11-07 21:02:03,545 INFO [org.mongodb.driver.cluster] - Cluster created with settings {hosts=[sit.mongodb1.com:27019, sit.mongodb2.com:27019, sit.mongodb3.com:27019], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2017-11-07 21:02:03,545 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb1.com:27019 to client view of cluster
2017-11-07 21:02:03,570 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb2.com:27019 to client view of cluster
2017-11-07 21:02:03,571 INFO [org.mongodb.driver.cluster] - Adding discovered server sit.mongodb3.com:27019 to client view of cluster
2017-11-07 21:02:03,573 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=UNKNOWN, servers=[{address=sit.mongodb3.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 21:02:03,592 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:2}] to sit.mongodb3.com:27019
2017-11-07 21:02:03,592 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:3}] to sit.mongodb2.com:27019
2017-11-07 21:02:03,592 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb3.com:27019
2017-11-07 21:02:03,592 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb2.com:27019
2017-11-07 21:02:03,594 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1221956}
2017-11-07 21:02:03,595 INFO [org.mongodb.driver.cluster] - Discovered cluster type of SHARDED
2017-11-07 21:02:03,595 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=UNKNOWN, state=CONNECTING}]
2017-11-07 21:02:03,596 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb2.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1303679}
2017-11-07 21:02:03,596 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=UNKNOWN, state=CONNECTING}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}]
2017-11-07 21:02:03,606 INFO [org.mongodb.driver.connection] - Opened connection [connectionId{localValue:1}] to sit.mongodb1.com:27019
2017-11-07 21:02:03,606 DEBUG [org.mongodb.driver.cluster] - Checking status of sit.mongodb1.com:27019
2017-11-07 21:02:03,608 INFO [org.mongodb.driver.cluster] - Monitor thread successfully connected to server with description ServerDescription{address=sit.mongodb1.com:27019, type=SHARD_ROUTER, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 2]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=1270630}
2017-11-07 21:02:03,608 DEBUG [org.mongodb.driver.cluster] - Updating cluster description to  {type=SHARDED, servers=[{address=sit.mongodb3.com:27019, type=SHARD_ROUTER, roundTripTime=1.2 ms, state=CONNECTED}, {address=sit.mongodb1.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}, {address=sit.mongodb2.com:27019, type=SHARD_ROUTER, roundTripTime=1.3 ms, state=CONNECTED}]
2017-11-07 21:02:03,734 DEBUG [org.mybatis.spring.SqlSessionUtils] - Creating a new SqlSession
2017-11-07 21:02:03,738 DEBUG [org.mybatis.spring.SqlSessionUtils] - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de97b17] was not registered for synchronization because synchronization is not active
2017-11-07 21:02:03,749 DEBUG [org.mybatis.spring.transaction.SpringManagedTransaction] - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@3f41246d] will not be managed by Spring
2017-11-07 21:02:03,754 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==>  Preparing: SELECT STATE FROM XCR_DEPOSIT_PAY_RECORD WHERE OUT_TRADE_NO = ? 
2017-11-07 21:02:03,784 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - ==> Parameters: asdaw123111510059387013(String)
2017-11-07 21:02:03,804 DEBUG [com.yatang.xc.xcr.biz.pay.dao.DepositPayRecordDao.getStateByOutTradeNo] - <==      Total: 1
2017-11-07 21:02:03,805 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} enter cache
2017-11-07 21:02:03,805 DEBUG [org.mybatis.spring.SqlSessionUtils] - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de97b17]
2017-11-07 21:02:03,807 INFO [org.springframework.context.support.GenericApplicationContext] - Closing org.springframework.context.support.GenericApplicationContext@6eec8b11: startup date [Tue Nov 07 21:02:02 CST 2017]; root of context hierarchy
2017-11-07 21:02:03,809 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:2}
2017-11-07 21:02:03,810 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:1}
2017-11-07 21:02:03,810 DEBUG [org.mongodb.driver.connection] - Closing connection connectionId{localValue:3}
2017-11-07 21:02:03,811 DEBUG [com.alibaba.druid.pool.PreparedStatementPool] - {conn-10002, pstmt-20000} exit cache
2017-11-07 21:02:03,811 INFO [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
